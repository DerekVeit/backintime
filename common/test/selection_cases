
:simple
    includes
        /var
    excludes
    files_tree
        var/
            log/
                dmesg
                syslog
    expected_tree
        var/
            log/
                dmesg
                syslog

:exclude-star
    includes
        /var
    excludes
        /var/*
    files_tree
        var/
            log/
                dmesg
                syslog
    expected_tree
        NONE

:exclude-name
    includes
        /var
    excludes
        log
    files_tree
        var/
            lib/
                foo
                log
            log/
                dmesg
                syslog
    expected_tree
        var/
            lib/
                foo

:exclude-absolute-dir
    includes
        /var
    excludes
        /var/log
    files_tree
        var/
            lib/
                log     # some comment
            log/
                dmesg
                syslog
    expected_tree
        var/
            lib/
                log

:issue-561  original-fails
    includes
        /var
        /var/log/bar    # original: causes everything else in /var/log/ to also get included.
    excludes
        /var/log        # sorted: this is treated as /var/log/** to allow the include.
    files_tree
        var/
            lib/
                log
            log/
                bar/
                    bar.log
                foo/
                    foo.log
                syslog
    expected_tree
        var/
            lib/
                log
            log/
                bar/
                    bar.log

:issue-1419-closed
    includes
        /var
    excludes
        [Tt]emp/*
    files_tree
        var/
            Temp/
                file1
            Temperature
    expected_tree
        var/
            Temp/
            Temperature

:issue-1420  original-fails
    includes
        /home
        /home/xin/.gitignore
        /home/xin/.ssh
    excludes
        /home/xin/.*
    files_tree
        home/
            xin/
                .other-dir/
                    foo
                .ssh/       # This does get backed up.
                    config
                .gitignore  # This doesn't get backed up.
                .other
    expected_tree
        home/
            xin/
                .ssh/
                    config
                .gitignore
